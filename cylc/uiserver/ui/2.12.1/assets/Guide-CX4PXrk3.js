import{_ as $,ax as L,ae as w,a$ as S,b0 as A,b1 as I,b2 as B,b3 as G,e as x,w as e,B as h,o,y as s,g as l,h as V,b4 as g,b5 as y,b6 as m,k as a,v as p,F as v,r as T,t as b,a7 as C,a8 as u,a9 as d,aa as f,C as M,b7 as j,x as F,b8 as q}from"./index-DYTE-L9k.js";import{G as R}from"./GraphNode-E1K3gNdu.js";import{V as U}from"./VContainer-GPLqKAXy.js";const H=""+new URL("../img/guide-tabs.gif",import.meta.url).href,Q={name:"Guide",components:{task:G,job:B,GraphNode:R},data:()=>({uid:I("guide"),states:A,workflowViews:S,exampleTasks:[{task:{name:"a",tokens:new w("2000/a",!0),node:{state:"succeeded"}},jobs:[{name:"01",tokens:new w("2000/a/01",!0),node:{state:"succeeded"}}]},{task:{name:"b",tokens:new w("2000/b",!0),node:{state:"running"}},jobs:[{name:"01",tokens:new w("2000/b/01",!0),node:{state:"running"}}]},{task:{name:"c",tokens:new w("2000/c",!0),node:{state:"waiting",flowNums:"[]"}},jobs:[]},{task:{name:"d",tokens:new w("2000/d",!0),node:{state:"waiting",flowNums:"[]"}},jobs:[]}]}),methods:{isFlowNone:L}},X={class:"card-grid"},D={id:"task-job-state-table"},E={style:{"font-size":"2em"}},J={style:{"font-size":"2em"}},O={style:{height:"25em",margin:"2em"}},P={height:"100%",ref:"graph2",class:"c-graph job_theme--default",viewBox:"0 0 1200 850"},Y=["id"],K=["transform"],Z=["marker-end","transform"];function _(k,t,c,tt,et,z){const i=h("task"),N=h("job"),W=h("GraphNode");return o(),x(U,{id:"quickstart-guide",fluid:""},{default:e(()=>[t[43]||(t[43]=s("h1",{class:"ma-0"},"Cylc UI Quick Start",-1)),s("div",X,[l(V,null,{default:e(()=>[l(g,{variant:"outlined",class:"pa-1"},{default:e(()=>[l(y,{"primary-title":""},{default:e(()=>[...t[2]||(t[2]=[s("p",{class:"text-h4 text--primary"},"Tasks & Jobs",-1)])]),_:1}),l(m,null,{default:e(()=>[...t[3]||(t[3]=[s("p",null,[a(" A "),s("b",null,"task"),a(" represents a single unit of activity in a workflow. ")],-1),s("p",null,[a(" A "),s("b",null,"job"),a(" performs the activity of a task, by means of a "),s("b",null,"job script"),a(" submitted to a "),s("b",null,"job runner"),a(". ")],-1),s("p",null," One task can have multiple jobs, by automatic retry or manual triggering. ",-1)])]),_:1}),s("table",D,[t[4]||(t[4]=s("tr",null,[s("td",null,"Task"),s("td"),s("td",null,"Job")],-1)),(o(!0),p(v,null,T(k.states,n=>(o(),p("tr",{key:n.name.name},[s("td",E,[l(i,{task:{state:n.name,task:{meanElapsedTime:30}},startTime:String(Date.now())},null,8,["task","startTime"])]),s("td",null,[s("span",null,b(n.name),1)]),s("td",J,[l(N,{status:n.name},null,8,["status"])])]))),128))]),l(m,null,{default:e(()=>[...t[5]||(t[5]=[s("p",null,[a(" A "),s("b",null,"waiting task"),a(" with "),s("b",null,"failed jobs"),a(" will "),s("b",null,"retry"),a(" after a delay. ")],-1),s("p",null,[a(" A "),s("b",null,"task"),a(" can only fail if it runs out of retries. ")],-1)])]),_:1})]),_:1}),t[15]||(t[15]=s("br",null,null,-1)),l(g,{variant:"outlined",class:"pa-1"},{default:e(()=>[l(y,{"primary-title":""},{default:e(()=>[...t[6]||(t[6]=[s("p",{class:"text-h4 text--primary"},"Skip Mode?",-1)])]),_:1}),l(m,null,{default:e(()=>[t[9]||(t[9]=s("p",null," Tasks can be configured to skip rather than run. These tasks are marked with a special icon proving they are not otherwise held back from running by some other factor (e.g, if they are held). ",-1)),l(C,{lines:"three"},{default:e(()=>[l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",runtime:{runMode:"Skip"}},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[7]||(t[7]=[a(" Skip Mode ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[8]||(t[8]=[a(" This task will be run in skip mode. ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t[16]||(t[16]=s("br",null,null,-1)),l(g,{variant:"outlined",class:"pa-1"},{default:e(()=>[l(y,{"primary-title":""},{default:e(()=>[...t[10]||(t[10]=[s("p",{class:"text-h4 text--primary"},"Views",-1)])]),_:1}),l(m,null,{default:e(()=>[t[11]||(t[11]=a(" Cylc provides lots of views which you can use to monitor and interact with workflows in different ways. ",-1)),l(C,null,{default:e(()=>[(o(!0),p(v,null,T(k.workflowViews.entries(),([n,r])=>(o(),x(u,{key:n},{prepend:e(()=>[l(M,{size:"large"},{default:e(()=>[a(b(r.icon),1)]),_:2},1024)]),default:e(()=>[l(d,null,{default:e(()=>[a(b(n),1)]),_:2},1024),l(f,null,{default:e(()=>[a(b(r.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t[12]||(t[12]=a(' When viewing a workflow, press the "Add View" button to open a new view. ',-1))]),_:1})]),_:1}),t[17]||(t[17]=s("br",null,null,-1)),l(g,{variant:"outlined",class:"pa-1"},{default:e(()=>[l(y,{"primary-title":""},{default:e(()=>[...t[13]||(t[13]=[s("p",{class:"text-h4 text--primary"},"Tabs",-1)])]),_:1}),l(m,null,{default:e(()=>[...t[14]||(t[14]=[s("p",null," The Cylc GUI has lots of views, each of which opens in a new tab. ",-1),s("p",null," Click and drag on tabs to arrange them into a layout. Click and drag on the margin between tabs to resize them. ",-1),s("br",null,null,-1),s("img",{src:H,style:{width:"100%","max-width":"600px"}},null,-1)])]),_:1})]),_:1})]),_:1}),l(V,null,{default:e(()=>[l(g,{variant:"outlined",class:"pa-1"},{default:e(()=>[l(y,{"primary-title":""},{default:e(()=>[...t[18]||(t[18]=[s("p",{class:"text-h4 text--primary"},"Why Are We Waiting?",-1)])]),_:1}),l(m,null,{default:e(()=>[t[33]||(t[33]=s("p",null," Why has my task not started to run yet? ",-1)),l(C,{lines:"three"},{default:e(()=>[l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting"},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[19]||(t[19]=[a(" Waiting ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[20]||(t[20]=[a(" The task is not ready to run yet - it is still waiting on upstream ",-1),s("b",null,"dependencies",-1),a(" (or old style external triggers). ",-1)])]),_:1})]),_:1}),l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",isHeld:!0},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[21]||(t[21]=[a(" Held ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[22]||(t[22]=[a(" The task won't run unless ",-1),s("b",null,"released",-1),a(" from hold. Tasks can be held before they are ready to run (or after, prior to retriggering). ",-1)])]),_:1})]),_:1}),l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",isRunahead:!0},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[23]||(t[23]=[a(" Runahead ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[24]||(t[24]=[a(" The task is ready to run but is beyond the runahead limit, which restricts the number of active cycle points. ",-1)])]),_:1})]),_:1}),l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",isQueued:!0},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[25]||(t[25]=[a(" Queued ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[26]||(t[26]=[a(" The task is ready to run but is held back by a queue, which restricts the number of active tasks. ",-1)])]),_:1})]),_:1}),l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",isRetry:!0},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[27]||(t[27]=[a(" Retry ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[28]||(t[28]=[a(" The task is waiting to retry running after a configured ",-1),s("b",null,"submission or execution retry delay",-1),a(". It will then attempt to run the job again. ",-1)])]),_:1})]),_:1}),l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",isWallclock:!0},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[29]||(t[29]=[a(" Wallclock ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[30]||(t[30]=[a(" This task is waiting for a wallclock trigger. ",-1)])]),_:1})]),_:1}),l(u,null,{prepend:e(()=>[l(i,{style:{"font-size":"2em"},task:{state:"waiting",isXtriggered:!0},class:"mr-4"})]),default:e(()=>[l(d,null,{default:e(()=>[...t[31]||(t[31]=[a(" Xtriggered ",-1)])]),_:1}),l(f,null,{default:e(()=>[...t[32]||(t[32]=[a(" This task is waiting for an ",-1),s("b",null,"xtrigger",-1),a(". ",-1)])]),_:1})]),_:1})]),_:1}),t[34]||(t[34]=s("p",null,[s("em",null,"Note: tasks downstream of queued (or runahead limited) tasks are not themselves shown as queued (or runahead limited) because they are not otherwise ready to run yet.")],-1))]),_:1})]),_:1}),t[42]||(t[42]=s("br",null,null,-1)),l(g,{variant:"outlined",class:"pa-1"},{default:e(()=>[l(y,{"primary-title":""},{default:e(()=>[...t[35]||(t[35]=[s("p",{class:"text-h4 text--primary"},"The n-window",-1)])]),_:1}),l(m,null,{default:e(()=>[t[37]||(t[37]=s("p",null,[a(" Cylc workflows can be very large, or even infinite. So rather than displaying "),s("b",null,"all"),a(` of the tasks, Cylc displays a moving window of tasks built around the workflow's "`),s("a",{href:"https://cylc.org/cylc-doc/stable/html/glossary.html#term-active-task"},"active tasks"),a('" (the ones which the workflow is operating on right now). ')],-1)),t[38]||(t[38]=s("p",null,[a(' By default, Cylc shows you all active tasks, as well as any immediately upstream or downstream of them. We call this the "n=1 window". Active tasks are said to be "n=0". The tasks immediately up/downstream of them are "n=1", and so on ('),s("a",{href:"https://cylc.org/cylc-doc/stable/html/user-guide/running-workflows/tasks-jobs-ui.html#the-n-window"},"full documentation"),a("). ")],-1)),t[39]||(t[39]=s("p",null," The following example shows a workflow with four tasks (a, b, c & d) which run in order: ",-1)),s("div",O,[(o(),p("svg",P,[s("defs",null,[s("marker",{id:`${k.uid}-arrow-end`,viewbox:"0 0 8 8",refX:"1",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",orient:"auto"},[...t[36]||(t[36]=[s("path",{d:"M 0 0 L 8 4 L 0 8 z",fill:"rgb(90,90,90)"},null,-1)])],8,Y)]),s("g",{ref:"graph",onClick:t[1]||(t[1]=j(()=>{},["stop","prevent"]))},[(o(!0),p(v,null,T(k.exampleTasks,(n,r)=>(o(),p("g",{key:r},[l(W,q({ref_for:!0},n,{transform:`translate(0, ${240*r})`,class:{"flow-none":z.isFlowNone(n.task.node.flowNums)},onClickCapture:t[0]||(t[0]=j(()=>{},["stop"]))}),null,16,["transform","class"]),s("text",{transform:`translate(275, ${240*r+50})`,"font-size":"50px"}," n="+b(Math.abs(r-1))+" - "+b(["Active task (running)","Future task (waiting)","Future task (waiting)","Historical task (succeeded)"].at(r-1)),9,K),r<k.exampleTasks.length-1?(o(),p("path",{key:0,d:"M 50 0 L 50 80",stroke:"rgb(90,90,90)","stroke-width":"5",fill:"none","marker-end":`url(#${k.uid}-arrow-end)`,transform:`translate(0, ${240*r+120})`},null,8,Z)):F("",!0)]))),128))],512)],512))]),t[40]||(t[40]=s("p",null," When viewing a workflow, you can change the n-window that Cylc uses from the toolbar. ",-1)),t[41]||(t[41]=s("p",null,' Note that the "future" tasks (the ones ahead of the workflow) are grey. This indicates that are are not yet being managed by Cylc. ',-1))]),_:1})]),_:1})]),_:1})])]),_:1})}const nt=$(Q,[["render",_]]);export{nt as default};
